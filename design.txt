# Knowledge Base Design

1. Fact Templates

symptom: id, description, category (power | display | memory | storage | general)
component: name, type, failure-mode
failure-scenario: id, name, module (power-motherboard | display-graphics | memory-storage)
symptom-indicator: symptom-id, indicates-scenario, strength (strong | moderate | weak)
diagnostic-conclusion: scenario-id, confidence, recommended-action
reported-symptom: symptom-id, observed (yes | no)
session-state: phase, message
prompt-shown: type

2. Domain Facts

Symptom Indicators
F1:  no-power-at-all  -> psu-failure (strong)
F2:  shutdown-under-load  -> psu-inadequate-wattage (strong)
F3:  post-beep-codes  -> motherboard-post-failure (strong)
F4:  intermittent-power -> loose-power-connections (moderate)
F5:  time-date-reset   -> cmos-battery-dead (strong)
F6:  system-freezes-under-load -> cpu-overheating (strong)
F7:  no-display-output  -> gpu-or-cable-failure (moderate)
F8:  screen-artifacts  -> gpu-overheating-or-memory (strong)
F9:  monitor-not-detected -> display-connection-issue (moderate)
F10: driver-crash-recovery -> gpu-driver-failure (strong)
F11: ram-not-in-bios -> ram-seating-or-compatibility (strong)
F12: blue-screen-crashes -> ram-failure (strong)
F13: storage-not-detected -> storage-connection-failure (strong)
F14: boot-device-not-found -> boot-storage-failure (strong)
F15: slow-storage-access -> storage-failing (moderate)

Components
F16: PSU - type: power - failure: no output, inadequate wattage, fan failure
F17: RAM - type: memory - failure: not detected, parity errors, instability
F18: storage - type: storage - failure: not detected, bad sectors, slow degradation

Failure Scenarios (15 total across 3 modules)
power-motherboard: psu-failure, psu-inadequate-wattage, motherboard-post-failure, loose-power-connections, cmos-battery-dead, cpu-overheating
display-graphics: gpu-or-cable-failure, gpu-overheating-or-memory, display-connection-issue, gpu-driver-failure
memory-storage: ram-seating-or-compatibility, ram-failure, storage-connection-failure, boot-storage-failure, storage-failing


3. Rules (Structured English)

Session
R0:  IF a symptom is reported AND no session exists
      THEN start the session and print a start message.



Module 1 - Power and Motherboard


R1:  IF no-power-at-all is reported
     THEN conclude psu-failure with that strength.

R2:  IF shutdown-under-load is reported
     THEN conclude psu-inadequate-wattage with that strength.

R3:  IF post-beep-codes is reported
     THEN conclude motherboard-post-failure with that strength.

R4:  IF intermittent-power is reported
     THEN conclude loose-power-connections with that strength.

R5:  IF system-freezes-under-load is reported
     THEN conclude cpu-overheating with that strength.

R6:  IF time-date-reset is reported
     THEN conclude cmos-battery-dead with that strength.

R7:  IF no-power-at-all AND post-beep-codes are both reported
     AND no psu-failure conclusion exists yet
     THEN conclude psu-failure with strong confidence.



Module 2 - Display and Graphics


R8:  IF no-display-output is reported
     THEN conclude gpu-or-cable-failure with that strength.

R9:  IF screen-artifacts is reported
     THEN conclude gpu-overheating-or-memory with that strength.

R10: IF monitor-not-detected is reported
     THEN conclude display-connection-issue with that strength.

R11: IF driver-crash-recovery is reported
     THEN conclude gpu-driver-failure with that strength.

R12: IF no-display-output AND screen-artifacts are both reported
     AND no gpu-overheating-or-memory conclusion exists yet
     THEN conclude gpu-overheating-or-memory with strong confidence.

Module 3 - Memory and Storage
R13: IF ram-not-in-bios is reported
     THEN conclude ram-seating-or-compatibility with that strength.

R14: IF blue-screen-crashes is reported
     THEN conclude ram-failure with that strength.

R15: IF storage-not-detected is reported
     THEN conclude storage-connection-failure with that strength.

R16: IF boot-device-not-found is reported
     THEN conclude boot-storage-failure with that strength.

R17: IF slow-storage-access is reported
     THEN conclude storage-failing with that strength.

R18: IF boot-device-not-found AND storage-not-detected are both reported
     AND no storage-connection-failure conclusion exists yet
     THEN conclude storage-connection-failure with strong confidence.



Utility Rules


R19: IF a conclusion exists (low priority)
     THEN print the scenario ID and recommended action.

R20: IF a conclusion exists AND session is started (lowest priority)
     THEN mark session complete and print a completion message.

R21: IF no symptoms have been reported AND prompt not shown yet
     THEN print the list of valid symptom IDs.

R22: IF a strong-confidence conclusion exists (after summaries)
     THEN suggest verifying with a hardware swap test.





4. Rules (Predicate Logic)

Notation: AND = and, NOT = not, -> = then, ? = variable

R0:  reported-symptom(?s, yes) and not session-state(?p, ?msg)
     -> assert session-state(started)

R1:  reported-symptom(no-power-at-all, yes)
     and symptom-indicator(no-power-at-all, psu-failure, ?str)
     and failure-scenario(psu-failure, ?n, power-motherboard)
     -> assert diagnostic-conclusion(psu-failure, ?str, action)

R2:  reported-symptom(shutdown-under-load, yes)
     and symptom-indicator(shutdown-under-load, psu-inadequate-wattage, ?str)
     -> assert diagnostic-conclusion(psu-inadequate-wattage, ?str, action)

R3:  reported-symptom(post-beep-codes, yes)
     and symptom-indicator(post-beep-codes, motherboard-post-failure, ?str)
     -> assert diagnostic-conclusion(motherboard-post-failure, ?str, action)

R4:  reported-symptom(intermittent-power, yes)
     and symptom-indicator(intermittent-power, loose-power-connections, ?str)
     -> assert diagnostic-conclusion(loose-power-connections, ?str, action)

R5:  reported-symptom(system-freezes-under-load, yes)
     and symptom-indicator(system-freezes-under-load, cpu-overheating, ?str)
     -> assert diagnostic-conclusion(cpu-overheating, ?str, action)

R6:  reported-symptom(time-date-reset, yes)
     and symptom-indicator(time-date-reset, cmos-battery-dead, ?str)
     -> assert diagnostic-conclusion(cmos-battery-dead, ?str, action)

R7:  reported-symptom(no-power-at-all, yes)
     and reported-symptom(post-beep-codes, yes)
     and not diagnostic-conclusion(psu-failure, ?, ?)
     -> assert diagnostic-conclusion(psu-failure, strong, action)

R8:  reported-symptom(no-display-output, yes)
     and symptom-indicator(no-display-output, gpu-or-cable-failure, ?str)
     -> assert diagnostic-conclusion(gpu-or-cable-failure, ?str, action)

R9:  reported-symptom(screen-artifacts, yes)
     and symptom-indicator(screen-artifacts, gpu-overheating-or-memory, ?str)
     -> assert diagnostic-conclusion(gpu-overheating-or-memory, ?str, action)

R10: reported-symptom(monitor-not-detected, yes)
     and symptom-indicator(monitor-not-detected, display-connection-issue, ?str)
     -> assert diagnostic-conclusion(display-connection-issue, ?str, action)

R11: reported-symptom(driver-crash-recovery, yes)
     and symptom-indicator(driver-crash-recovery, gpu-driver-failure, ?str)
     -> assert diagnostic-conclusion(gpu-driver-failure, ?str, action)

R12: reported-symptom(no-display-output, yes)
     and reported-symptom(screen-artifacts, yes)
     and not diagnostic-conclusion(gpu-overheating-or-memory, ?, ?)
     -> assert diagnostic-conclusion(gpu-overheating-or-memory, strong, action)

R13: reported-symptom(ram-not-in-bios, yes)
     and symptom-indicator(ram-not-in-bios, ram-seating-or-compatibility, ?str)
     -> assert diagnostic-conclusion(ram-seating-or-compatibility, ?str, action)

R14: reported-symptom(blue-screen-crashes, yes)
     and symptom-indicator(blue-screen-crashes, ram-failure, ?str)
     -> assert diagnostic-conclusion(ram-failure, ?str, action)

R15: reported-symptom(storage-not-detected, yes)
     and symptom-indicator(storage-not-detected, storage-connection-failure, ?str)
     -> assert diagnostic-conclusion(storage-connection-failure, ?str, action)

R16: reported-symptom(boot-device-not-found, yes)
     and symptom-indicator(boot-device-not-found, boot-storage-failure, ?str)
     -> assert diagnostic-conclusion(boot-storage-failure, ?str, action)

R17: reported-symptom(slow-storage-access, yes)
     and symptom-indicator(slow-storage-access, storage-failing, ?str)
     -> assert diagnostic-conclusion(storage-failing, ?str, action)

R18: reported-symptom(boot-device-not-found, yes)
     and reported-symptom(storage-not-detected, yes)
     and not diagnostic-conclusion(storage-connection-failure, ?, ?)
     -> assert diagnostic-conclusion(storage-connection-failure, strong, action)

R19: diagnostic-conclusion(?id, ?conf, ?act)
     -> print(?id, ?act)   [salience -10]

R20: diagnostic-conclusion(?, ?, ?)
     and session-state(started, ?msg)
     -> retract session-state(started) and assert session-state(complete)   [salience -20]

R21: not reported-symptom(?, ?)
     and not prompt-shown(no-symptoms)
     -> assert prompt-shown(no-symptoms) and print valid symptom list

R22: diagnostic-conclusion(?id, strong, ?)
     -> print "Consider verifying with hardware swap test."   [salience -15]



5. Naming Scheme

Symptom IDs:    lowercase hyphenated natural language  ex: no-power-at-all
Scenario IDs:   component-then-failure, hyphenated  ex: psu-failure
Rule names:     diagnose-<scenario> for single symptom  ex: diagnose-psu-failure
                <module>-multi-symptom-<component>  ex: power-module-multi-symptom-psu
Module names:   domain-pair, hyphenated  ex: power-motherboard
Template slots: lowercase hyphenated  ex: symptom-id, recommended-action
Strength:       plain English symbols ->  strong, moderate, weak
